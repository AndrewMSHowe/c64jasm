{
	"name": "c64",
	"scopeName": "source.asm.c64",
	"fileTypes": [
		"s",
		"i",
		"asm"
	],
	"uuid": "fe8dd09c-dc33-41eb-83d4-4cc6ed720ad2",
	"patterns": [
		{
			"name": "string.quoted.double.c64",
			"match": "\"[^\"]*\""
		},
		{
			"name": "string.quoted.single.c64",
			"match": "'[^']*'"
		},
		{
			"name": "comment.line.semicolon",
			"match": ";[^\n]*\n"
		},
		{
			"name": "meta.equate.c64",
			"match": "(?i)^([a-zA-Z0-9_][a-zA-Z0-9_\\.]*)(?=([ \t]*=|[ \t]+equ[ \t]+))",
			"captures": {
				"1": {
					"name": "variable.other.constant.c64"
				}
			}
		},
		{
			"name": "meta.macro.c64",
			"match": "(?i)^[ \t]*(!macro)[ \t]+([a-zA-Z0-9_\\.]+)",
			"captures": {
				"1": {
					"name": "variable.other.macro.c64"
				},
				"2": {
					"name": "meta.macro.name.c64"
				}
			}
		},

		{
			"name": "meta.other.c64",
			"match": "(?i)^[ \t]*(!if)[ \t]*\\(",
			"captures": {
				"1": {
					"name": "variable.other.macro.c64"
				},
				"2": {
					"name": "meta.macro.name.c64"
				}
			}
		},

		{
			"name": "meta.section.c64",
			"match": "(?i)\bsection\\s+(.[^,]*)\\s*,\\s*(.[^;]+)",
			"captures": {
				"1": {
					"name": "meta.section.name.c64"
				},
				"2": {
					"name": "meta.section.type.c64"
				}
			}
		},
		{
			"name": "meta.include.c64",
			"match": "(?i)\binclude[ \t]+(\"[^\"]+\"|'[^']+'|[^,]+)",
			"captures": {
				"1": {
					"name": "meta.include.name.c64"
				}
			}
		},
		{
			"name": "meta.label.global.c64",
			"match": "^[a-zA-Z_]([a-zA-Z0-9_]*|[a-zA-Z0-9_\\.%\\$]*[a-zA-Z0-9_])(?=$|[ \t:])"
		},
		{
			"name": "constant.numeric.hex.c64",
			"match": "(?<![a-zA-Z])\\$[0-9A-Fa-f]+\\b"
		},
		{
			"name": "constant.numeric.octal.c64",
			"match": "(?<![a-zA-Z])@[0-7]+\\b"
		},
		{
			"name": "constant.numeric.binary.c64",
			"match": "(?<![a-zA-Z])%[01]+\\b"
		},
		{
			"name": "constant.numeric.decimal.c64",
			"match": "(?<![a-zA-Z])[+-]?[0-9]+\\b"
		},
		{
			"name": "keyword.other.opcode.cpu.c64",
			"match": "(?i)\\b(adc|and|asl|bit|bpl|bmi|bvc|bvs|bcc|bcs|bne|beq|brk|cmp|cpx|cpy|dec|eor|clc|sec|cli|sei|clv|cld|sed|inc|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|tax|txa|dex|inx|tay|tya|dey|iny|ror|rol|rti|rts|sbc|sta|txs|tsx|pha|pla|php|plp|stx|sty)\\b"
		},
		{
			"name": "keyword.control.import.c64",
			"match": "(?i)\\b(include|incdir|incbin)\\b"
		},
		{
			"name": "keyword.control.section.c64",
			"match": "(?i)\\b(section|bss(_[cf])?|cseg|code(_[cf])?|data(_[cf])?|dseg)\\b"
		},
		{
			"name": "invalid.illegal.opcode.c64",
			"match": "(?i)\\billegal\\b"
		}
	]
}